# Environment variables for the LumiMD backend.
# Copy this file to `backend/.env` and fill in secrets for your setup.

# --- Server configuration ---
NODE_ENV=development
PORT=3000
API_URL=http://localhost:3000

# --- Database ---
# Matches docker-compose defaults (user/password/db = lumimd, port 5433)
DATABASE_URL="postgresql://lumimd:lumimd@localhost:5433/lumimd?schema=public"

# --- Authentication ---
JWT_SECRET=replace_with_secure_random_64_chars
JWT_REFRESH_SECRET=replace_with_secure_random_64_chars
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# --- Encryption (AES-256) ---
ENCRYPTION_KEY=32_character_encryption_key_here
ENCRYPTION_IV=32_character_initialization_vector

# --- AWS / Storage ---
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
AWS_S3_BUCKET=your-audio-bucket
AWS_S3_BUCKET_REGION=us-east-1

# --- Background jobs ---
# --- Background jobs ---
# Redis container listens on localhost:6379 with no password by default.
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
BULL_CONCURRENCY=5

# --- OpenAI ---
OPENAI_API_KEY=your_openai_api_key
OPENAI_ORGANIZATION_ID=

# --- Observability (optional) ---
SENTRY_DSN=

# --- Security ---
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
SESSION_TIMEOUT_MINUTES=15
MAX_FILE_SIZE_MB=100
ALLOWED_AUDIO_FORMATS=audio/mpeg,audio/wav,audio/mp4,audio/m4a,audio/x-m4a

# --- CORS ---
# Include Expo LAN URLs (e.g., http://192.168.0.10:8081) as needed.
CORS_ORIGIN=http://localhost:3000,http://localhost:19006
